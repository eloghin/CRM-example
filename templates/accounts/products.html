{% extends 'accounts/main.html' %}
{% block content %}

    <br>

    		<div class="row">
    			<div class="col-md">
    				<div class="card card-body">
    					<h5>Products</h5>
    				</div>

    				<div class="card card-body">
              <div class="card card-body">
                <a class="btn btn-primary  btn-sm btn-block" href="{% url 'create_product' %}">Add New Product</a>
              </div>
              <table class="table">
    						<tr>
    							<th>Product</th>
    							<th>Category</th>
    							<th>Price</th>
                  <th>Update</th>
                  <th>Remove</th>
    						</tr>

                {% for product in page_obj %}
                  <tr>
                    <td>{{ product.name }}</td>
                    <td>{{ product.category }}</td>
                    <td>{{ product.price }}</td>
                    <td> <a class="btn btn-sm btn-info" href="{% url 'update_product' product.id %}">Update</a> </td>
                    <td> <a class="btn btn-sm btn-danger" href="{% url 'delete_product' product.id %}">Delete</a> </td>
                  </tr>
                {% endfor %}
              </table>
            </div>

            <div class="pagination">
                  <div class="container-fluid text-center">
                    {% for num in page_obj.paginator.page_range %}
                      {% if page_obj.number == num %}
                          <a class = "btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
                      {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3'%}
                          <a class = "btn btn-outline_info mb-4" href="?page={{ num }}">{{ num }}</a>
                      {% endif %}
                    {% endfor %}
                  </div>
            </div>

    			</div>
    		</div>

{% endblock content%}
